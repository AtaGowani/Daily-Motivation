<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link href="https://unpkg.com/basscss@8.0.2/css/basscss.min.css" rel="stylesheet"> <!--used for styling footer and block that holds the quotes-->
    <link href="https://fonts.googleapis.com/css?family=Raleway:400,600,800" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="js-cookies/js.cookie.js"></script>

    <title>DailyMotivation</title>
    <script type="text/javascript">

    </script>
  </head>
  
  <body>
  <canvas id='connecting-dots'></canvas> <!--canvas for the background interactive feature-->
      <nav class="main-menu">
            <ul>
                <li>
                  <i class="fa fa-gear"></i>
                  <span class="nav-text">
                  </span>
                </li>
                <li>
                <i class="fa"></i>
                  <span class="nav-text">
                    Change Background
                  </span>
                </li>
                <li>
                <div class="background"></div>
                <i class="fa"></i>
                  <span class="nav-text">
                    <div class="background" id="Theme1" onclick="javascript:setCookie.call(this)"></div>
                  </span>
                </li>
                 <div class="background"></div>
                <li>
                <i class="fa"></i>
                  <span class="nav-text">
                    <div class="background" id="Theme2" onclick="javascript:setCookie.call(this)"></div>
                  </span>
                </li>
                 <div class="background"></div>
                <li>
                <i class="fa"></i>
                  <span class="nav-text">
                    <div class="background" id="Theme3" onclick="javascript:setCookie.call(this)">></div>
                  </span>
                </li>
                <div class="background"></div>
                <li>
                <i class="fa"></i>
                  <span class="nav-text">
                    <div class="background" id="Default" onclick="javascript:setCookie.call(this)">DEFAULT</div>
                  </span>
                </li>
            </ul>
        </nav>
      <div id="blockQ">
        <p class="heading center">
          <span id="DailyMotivation">Will be replaced by a quote.</span>
        </p>
    </div>

    <script src="application.js"></script> <!--Javascript that gets the random quote-->

    <div class="fixed bottom-0 left-0 m3" id="footer">
      <p>Made by <a href="http://www.atagowani.com">Ata Gowani</a>.</p>
      <p class="cc">Logo graphic by <a href="http://www.flaticon.com/authors/fadyucf">FadyUCF</a> from <a href="http://www.flaticon.com/">Flaticon</a> is licensed under <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC BY 3.0</a>. Made with <a href="http://logomakr.com" title="Logo Maker">Logo Maker</a></p> <!--attribution needed for CC-->
    </div>

    <script>

    function canvasDots(colorLine, colorDot) {
        var canvas = document.querySelector('canvas'),
        ctx = canvas.getContext('2d');

        console.log(canvas);
        console.log(ctx);
        console.log(colorDot);
        console.log(colorLine);


        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        canvas.style.display = 'block';
        ctx.fillStyle = colorDot;
        ctx.lineWidth = .1;
        ctx.strokeStyle = colorLine;

        var mousePosition = {
          x: 30 * canvas.width / 100,
          y: 30 * canvas.height / 100
        };

        var dots = {
          nb: 600,
          distance: 50,
          d_radius: 100,
          array: []
      };

      function Dot() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;

        this.vx = -.5 + Math.random();
        this.vy = -.5 + Math.random();

        this.radius = Math.random();
      }

      Dot.prototype = {
      create: function() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
        ctx.fill();
      },

      animate: function() {
        for (i = 0; i < dots.nb; i++) {

          var dot = dots.array[i];

          if (dot.y < 0 || dot.y > canvas.height) {
            dot.vx = dot.vx;
            dot.vy = -dot.vy;
          } else if (dot.x < 0 || dot.x > canvas.width) {
            dot.vx = -dot.vx;
            dot.vy = dot.vy;
          }
          dot.x += dot.vx;
          dot.y += dot.vy;
        }
      },

      line: function() {
        for (i = 0; i < dots.nb; i++) {
          for (j = 0; j < dots.nb; j++) {
            i_dot = dots.array[i];
            j_dot = dots.array[j];

            if ((i_dot.x - j_dot.x) < dots.distance && (i_dot.y - j_dot.y) < dots.distance && (i_dot.x - j_dot.x) > -dots.distance && (i_dot.y - j_dot.y) > -dots.distance) {
              if ((i_dot.x - mousePosition.x) < dots.d_radius && (i_dot.y - mousePosition.y) < dots.d_radius && (i_dot.x - mousePosition.x) > -dots.d_radius && (i_dot.y - mousePosition.y) > -dots.d_radius) {
                ctx.beginPath();
                ctx.moveTo(i_dot.x, i_dot.y);
                ctx.lineTo(j_dot.x, j_dot.y);
                ctx.stroke();
                ctx.closePath();
              }
            }
          }
        }
      }
      };

      function createDots() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (i = 0; i < dots.nb; i++) {
        dots.array.push(new Dot());
        dot = dots.array[i];

        dot.create();
      }

      dot.line();
      dot.animate();
      }

      window.onmousemove = function(parameter) {
      mousePosition.x = parameter.pageX;
      mousePosition.y = parameter.pageY;
      }

      mousePosition.x = window.innerWidth / 2;
      mousePosition.y = window.innerHeight / 2;

      setInterval(createDots, 1000 / 30);
      }

      function setCookie(){
          var themeCookie = this.id;
          console.log(themeCookie);
          Cookies.set('Theme', themeCookie);
          window.location.reload(); //maybe not do this...it changes the current quote as well
        }

      

      function setTheme(userPreference){
        var colorDot;
        var colorLine;
        var elements, i, len; //to hold the elements to be retrived from classes

        switch(userPreference){
          case "Theme1":
            document.body.style.background = '#0F2043';
            document.getElementById('blockQ').style.color = '#D5A458';
            //document.a.style.color = '#D5A458';
            elements = document.getElementsByClassName('main-menu');
            for(i = 0, len = elements.length; i < len; i++){
              elements[i].style.background = '#0F2043';
              elements[i].style.color = '#D5A458';
            }
            elements = document.getElementsByClassName('fa-gear');
            for(i = 0, len = elements.length; i < len; i++){
              elements[i].style.color = '#D5A458';
            }
            document.getElementById('footer').style.color = '#D5A458';
            colorDot = '#79CEDC';
            colorLine = '#79CEDC';
            
            break;

          case "Theme2":
            document.body.style.background = '#F2F2F2';
            document.getElementById('blockQ').style.color = '#561210';
            //document.a.style.color = '#561210';
            elements = document.getElementsByClassName('main-menu');
            for(i = 0, len = elements.length; i < len; i++){
              elements[i].style.background = '#F2F2F2';
              elements[i].style.color = '#561210';
            }
            elements = document.getElementsByClassName('fa-gear');
            for(i = 0, len = elements.length; i < len; i++){
              elements[i].style.color = '#561210';
            }
            document.getElementById('footer').style.color = '#561210';
            colorDot = '#EF9121';
            colorLine = '#EF9121';
            
            break;

          case "Theme3":
            document.body.style.background = '#3F2B2C'
            document.getElementById('blockQ').style.color = '#EC3047';
            //document.a.style.color = '#EC3047';
            elements = document.getElementsByClassName('main-menu');
            //console.log(document.getElementById('newID'));
            for(i = 0, len = elements.length; i < len; i++){
              elements[i].style.background = '#3F2B2C';
              elements[i].style.color = '#EC3047';
            }
            elements = document.getElementsByClassName('fa-gear');
            for(i = 0, len = elements.length; i < len; i++){
              elements[i].style.color = '#EC3047';
            }
            document.getElementById('footer').style.color = '#EC3047';
            colorDot = '#ACA287';
            colorLine = '#ACA287';
            
            break;

          default:
            colorLine = '#CECECE';
            colorDot = '#CECECE';
        }
        canvasDots(colorLine, colorDot);
      }

      window.onload = function(){
        var x = Cookies.get('Theme');; //variable to hold the cookie value
        console.log("cookie" + x);
        setTheme(x);
      }

    </script>
  </body>
</html>
